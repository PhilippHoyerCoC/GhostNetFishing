<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Save the world from ghostnets</title>
        <h:outputStylesheet library="css" name="table-style.css" />
        <h:outputStylesheet library="css" name="navigation-buttons.css" />
    </h:head>
    <h:body>
        <h:form>
            <div class="top-right">
                <h:button value="Login" outcome="faces/login" styleClass="ui-button-primary" />
                <h:button value="Register" outcome="register" styleClass="ui-button-primary" />
            </div>
        </h:form>
        <h1>Help us collecting ghost nets!</h1>
        <h:form>
            Coordinates: <h:inputText id="latitude" value="#{ghostNetDAO.coordinates.latitude}" converter="ghostNetCoordinatesConverter"/> <h:inputText id="longitude" value="#{ghostNetDAO.coordinates.longitude}" converter="ghostNetCoordinatesConverter"/> <br/>
            Ghostnet Size: <h:inputText id="size" value="#{ghostNetDAO.size}" converter="ghostNetSizeConverter" validator="#{ghostNetDAO.validateGhostNetSize}" /> <br/>
            <h:commandButton value="Create GhostNet" actionListener="#{ghostNetDAO.createGhostNetWithoutStatus(ghostNetDAO.size)}" /> <br/>
        </h:form>
        <h:dataTable value="#{ghostNetDAO.allGhostNets}" var="ghostNet"
                     styleClass="ghostnet-table"
                     headerClass="ghostnet-table-header"
                     rowClasses="ghostnet-table-odd-row,ghostnet-table-even-row">
            <h:column>
                <f:facet name="header">
                    <h:outputText value="ID" />
                </f:facet>
                <h:outputText value="#{ghostNet.id}" />
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Size" />
                </f:facet>
                <h:outputText value="#{ghostNet.size}" />
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Status" />
                </f:facet>
                <h:outputText value="#{ghostNet.status}" />
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Coordinates (Lat, Long)" />
                </f:facet>
                <h:outputText value="#{ghostNet.coordinates.latitude}" />
                <h:outputText value="," />
                <h:outputText value="#{ghostNet.coordinates.longitude}" />
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Assigned User" />
                </f:facet>
                <h:outputText value="#{ghostNet.user.userName}" />
            </h:column>
        </h:dataTable>
    </h:body>
</html>